<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nomad Trip Planner</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --accent: #f97316; /* Xpulse Orange vibe */
            --text: #f8fafc;
            --success: #22c55e;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .header {
            text-align: center;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }

        .card {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        h2 { margin: 0 0 10px 0; font-size: 1.2rem; color: var(--accent); }

        /* Fuel Calc Style */
        .fuel-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            align-items: center;
        }

        input {
            background: #334155;
            border: 1px solid #475569;
            color: white;
            padding: 8px;
            border-radius: 6px;
            width: 80%;
        }

        /* Cart List Style */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #334155;
        }

        .cart-item:last-child { border: none; }

        .status-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--accent);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-btn.done {
            background: var(--success);
            border-color: var(--success);
        }

        .done-text {
            text-decoration: line-through;
            opacity: 0.5;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>üèîÔ∏è NOMAD PLAN</h1>
        <p id="trip-name">Pune to Kokandiva Expedition</p>
    </div>

    <div class="card">
        <h2>‚õΩ Fuel Estimator</h2>
        <div class="fuel-grid">
            <div>
                <label>Total KM:</label><br>
                <input type="number" id="kmInput" value="140" oninput="calculateFuel()">
            </div>
            <div>
                <p>Est. Cost:<br><strong id="fuelCost" style="font-size: 1.4rem;">‚Çπ387</strong></p>
            </div>
        </div>
    </div>

    <div class="card">
        <h2>üõí Trip Cart</h2>
        <div id="cartList">
            <div class="cart-item">
                <span>Onion (1 kg)</span>
                <div class="status-btn" onclick="toggleItem(this)"></div>
            </div>
            <div class="cart-item">
                <span>Oil (500 ml)</span>
                <div class="status-btn" onclick="toggleItem(this)"></div>
            </div>
            <div class="cart-item">
                <span>Maggi (6 Pkts)</span>
                <div class="status-btn" onclick="toggleItem(this)"></div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // Full screen open hoga

        function calculateFuel() {
            const km = document.getElementById('kmInput').value;
            const mileage = 38; // Average mileage
            const price = 105; // Petrol price
            const cost = Math.round((km / mileage) * price);
            document.getElementById('fuelCost').innerText = "‚Çπ" + cost;
        }

        function toggleItem(el) {
            el.classList.toggle('done');
            const textElement = el.parentElement.querySelector('span');
            textElement.classList.toggle('done-text');
            
            // Haptic Feedback (Mobile viberate karega)
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
        }

        // Initialize Telegram Theme
        document.body.style.backgroundColor = tg.themeParams.bg_color || '#0f172a';
    </script>
</body>
</html>
